{% extends 'base.html' %}

{% block title %}Support - MetaBrainz Foundation{% endblock %}

{% block content %}
  <h1>Support us</h1>

 {# TODO: Add some text that will encourage people to sign up... #}

  <div id="tiers">

    <div id="primary-tiers">
      <div class="row">
        {% for tier in tiers %}
          {% if tier.primary %}
            <div class="tier col-sm-6 col-md-4">
              <div class="thumbnail">
                <div class="caption">
                  <h3>{{ tier.name }}</h3>
                  <div class="price">${{ tier.price }}/mo</div>
                  <div class="description">{{ tier.short_desc }}</div>
                  <div class="buttons">
                    <p><a href="{{ url_for('users.tier', tier_id=tier.id) }}"
                          class="btn btn-default btn-block" role="button">More info</a></p>
                    {% if tier.available %}
                      <p><a href="{{ url_for('users.signup', tier_id=tier.id) }}"
                            class="btn btn-primary btn-block" role="button">Sign up</a></p>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
      <p class="text-center">
        <button id="btn-show-all" type="button" class="btn btn-default">View all tiers</button>
      </p>
    </div>

    <div id="all-tiers" style="display: none">
      <table class="table table-condensed">
        {% for tier in tiers %}
          <tr>
            <td><strong>{{ tier.name }}</strong></td>
            <td>{{ tier.short_desc }}</td>
            <td>${{ tier.price }}/mo</td>
            <td>
              <a href="{{ url_for('users.tier', tier_id=tier.id) }}"
                   class="btn btn-default btn-xs" role="button">More info</a>
              {% if tier.available %}
                <a href="{{ url_for('users.signup_commercial', tier_id=tier.id) }}"
                   class="btn btn-primary btn-xs" role="button">Sign up</a>
              {% endif %}
            </td>
          </tr>
        {% endfor %}
      </table>
      <p class="text-center">
        <button id="btn-show-less" type="button" class="btn btn-default">View featured tiers</button>
      </p>
    </div>

  </div>

{% endblock %}

{% block scripts %}
  {{ super() }}
  <script>
    $(document).ready(function () {
      var primaryTiers = $("#primary-tiers");
      var allTiers = $("#all-tiers");

      $("#btn-show-all").click(function () {
        primaryTiers.fadeOut("fast", function () {
          allTiers.fadeIn("fast");
        });
      });
      $("#btn-show-less").click(function () {
        allTiers.fadeOut("fast", function () {
          primaryTiers.fadeIn("fast");
        });
      });
    });
  </script>
{% endblock %}
